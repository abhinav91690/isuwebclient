"use strict";angular.module("webclientApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl"}).when("/tools",{templateUrl:"views/tools.html",controller:"ToolsCtrl"}).when("/blog",{templateUrl:"views/blog.html",controller:"BlogCtrl"}).when("/account",{templateUrl:"views/account.html",controller:"AccountCtrl"}).when("/tools/management",{templateUrl:"views/management.html",controller:"ManagementCtrl"}).when("/tools/capture",{templateUrl:"views/capture.html",controller:"CaptureCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/signup",{templateUrl:"views/signup.html",controller:"SignupCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("webclientApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("webclientApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("webclientApp").controller("HeaderCtrl",["$scope",function(a){a.awesomeThings=["HTM3L5 Boilerplate","AngularJS","Karma"]}]),angular.module("webclientApp").controller("SettingsCtrl",["$scope","$location","session","data",function(a,b,c,d){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.isLoggedIn()||(b.path("/login"),d.setNav("Login"))}]),angular.module("webclientApp").controller("ToolsCtrl",["$scope","$location","session","data",function(a,b,c,d){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.isLoggedIn()||(b.path("/login"),d.setNav("Login"))}]),angular.module("webclientApp").controller("BlogCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("webclientApp").controller("AccountCtrl",["$scope","$location","data","session",function(a,b,c,d){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],d.isLoggedIn()||(b.path("/login"),c.setNav("Login")),a.who=d.who}]),angular.module("webclientApp").controller("ManagementCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.addClassView=!1,a.addClass=function(){a.addClassView=!0}}]),angular.module("webclientApp").controller("CaptureCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var b=document.querySelector("video"),c=document.querySelector("canvas"),d=function(){function a(a){window.stream=a,b.src=window.URL?window.URL.createObjectURL(a):a}function c(a){console.log("navigator.getUserMedia error: ",a)}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var d={audio:!1,video:!0,width:640,height:480};navigator.getUserMedia(d,a,c)},e=function(){window.stream.stop(),b.src=""},f=function(){},g=function(){var a=c.getContext("2d");a.drawImage(b,0,0),document.querySelector("#photo").src=c.toDataURL("image/webp")},h=function(){},i=function(){};a.start=d,a.stop=e,a.test=f,a.photo=g,a.send=h,a.change=i}]),angular.module("webclientApp").controller("NavCtrl",["$scope","data","session",function(a,b,c){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.setTab=function(a){b.setNav(a)},a.isSelected=function(a){return b.getNav()===a},a.isLoggedIn=c.isLoggedIn,a.who=c.who,a.logout=c.logout}]),angular.module("webclientApp").controller("LoginCtrl",["$scope","$location","data","flash","session",function(a,b,c,d,e){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var f=function(){return"hebiadmin"===a.username&&"aabb"===a.password?!0:!1};a.submit=function(){return f()?(e.login({username:"hebiadmin",password:"aabb",email:"hebi@iastate.edu",first:"Hebi",last:"Li"}),b.path("/account"),void c.setNav("Account")):void c.User.get({username:a.username},function(b){b.password===a.password&&(e.login(b),console.log(b))},function(a){d.setMessage("Http Error"),console.log(a)})}}]),angular.module("webclientApp").controller("SignupCtrl",["$scope","$http","data",function(a,b,c){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.submit=function(){var b={username:a.username,email:a.email,first:a.first,last:a.last,password:a.password1};c.User.save({},$.param(b),function(a){console.log(a)},function(a){console.log(a)})},a.valid=function(){return a.policy&&a.password1&&a.password1===a.password2?!0:!1}}]),angular.module("webclientApp").controller("MsgCtrl",["$scope","flash",function(a,b){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.flash=b}]),angular.module("webclientApp").factory("session",function(){var a=42,b={},c=!1;return{someMethod:function(){return a},login:function(a){b=a,c=!0},who:function(){return b},logout:function(){b={},c=!1},isLoggedIn:function(){return c}}}),angular.module("webclientApp").factory("data",["$resource",function(a){var b="Home",c=a("http://127.0.0.1:12345/users/:userId",{userId:"@id"},{save:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}});return{setNav:function(a){b=a},getNav:function(){return b},User:c}}]),angular.module("webclientApp").factory("flash",["$rootScope",function(a){var b=[],c="";return a.$on("$routeChangeSuccess",function(){c=b.shift()||""}),{setMessage:function(a){b.push(a),c=b.shift()},getMessage:function(){return c},nextMessage:function(){c=b.shift()}}}]);